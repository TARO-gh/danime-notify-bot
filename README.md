# dアニメストア更新通知Bot

dアニメストアの作品ページをSeleniumで監視し，Discordに自動通知を行うBotです（Python + Asyncio + Docker対応）．

## 概要

このBotは，dアニメストアでウォッチリストに登録したアニメの新着エピソードが配信された際に，指定されたDiscordチャンネルへ自動で通知を送信するツールです．定期的に更新を確認するため，見たいアニメの最新話を逃すことがなくなります．

## 主な機能

- **新着エピソードの自動通知**: 登録したアニメに新しいエピソードが追加されると，自動でDiscordに通知が送信されます．
- **柔軟なウォッチリスト管理**:
    - **追加**: 作品IDを指定して，通知を受けたいアニメを簡単に追加できます．
    - **削除**: 不要になったアニメは，作品IDを指定してリストから削除できます．
    - **一覧表示**: 現在登録されているアニメの一覧を確認できます．
    - **全件削除**: 登録リストを一度に空にすることも可能です．
- **アニメ検索機能**: dアニメストア内のアニメをキーワードで検索して，そのまま通知リストに追加できます．
- **スケジュール確認**: 登録したアニメの配信曜日・時間を確認できます．
- **手動更新**: コマンドを実行して，好きなタイミングで更新情報をチェックできます．

## セットアップ方法

### 1. 必要なものを揃える

まず，このリポジトリを自身の環境にクローンします．
```bash
git clone https://github.com/TARO-gh/danime-notify-bot.git
cd danime-notify-bot
```

### 2. 環境変数の設定

次に，`.env`ファイルを作成して，Botの設定を書き込みます． `TOKEN`は必須です．
```dotenv
# Discord BotのTOKEN
TOKEN=********************************

# 通知を飛ばしたいDiscordサーバーのID
TARGET_GUILD_ID=******************

# 通知を飛ばしたいチャンネルのID
TARGET_CHANNEL_ID=******************

# (任意) Chrome / Chromium のバイナリパス
# Dockerを使わない場合に必要
# CHROME_BIN=/usr/bin/chromium
```

### 3. 実行

実行方法は2通りあります．

#### Dockerを使用する場合

`docker-compose.yml`が用意されているため，Dockerがインストールされていればこちらが簡単です．
```bash
docker-compose up -d --build
```

#### Dockerを使用しない場合

まず，必要なライブラリをインストールします．
```bash
pip install -r requirements.txt
```

そして，メインのスクリプトを実行するとBotが起動します．
```bash
python bot/main.py
```

## 注意事項・免責事項

- 本ツールは個人の学習目的・技術検証を目的として開発されたものであり，dアニメストアの公式サービスとは一切関係ありません．
- 取得対象は，robots.txtで明示的に制限されていない**公開ページ**のみです．
- 内部APIや認証ページへのアクセス，ログイン操作などは一切行っていません．
- 利用にあたっては，各サービスの利用規約やネットワーク負荷を十分に考慮してください．
- 本ツールの使用により発生したいかなる損害・問題についても，作者は一切の責任を負いません．